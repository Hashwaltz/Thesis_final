<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Payroll Staff{% endblock %}</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />

    <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Rounded" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Two+Tone" rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
      rel="stylesheet"
      href="https://public.codepenassets.com/css/normalize-5.0.0.min.css"
    />
    <link rel="canonical" href="https://codepen.io/blex/pen/VBGNxq" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('payroll_staff.static', filename='css/style2.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('payroll_staff.static', filename='css/forms.css') }}"
    />
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('payroll_staff.static', filename='img/favicon.avif') }}"
    />
    <script>
      window.console = window.console || function (t) {};
    </script>

  </head>
  <body>
    <div class="dashboard">
      <aside class="search-wrap">
        <div class="search" style="display: flex; align-items: center; gap: 10px;">

          <label>
          <img
              src="{{ url_for('payroll_staff.static', filename='img/logo2.avif') }}"
              alt="Logo"
              width="60"
              height="60"
              class="logo"
              style="border-radius: 50%;" 
          >
          <h2 style="color:#ced4da; margin: 4px;">GovHRPay Payroll System</h2>
          </label>
        </div>

     <div class="user-actions">
      <button id="logoutBtn" title="Logout" style="background:none;border:none;cursor:pointer;">
        <span class="material-symbols-outlined" style="font-size: 26px; color:#ced4da;">
          logout
        </span>
      </button>
    </div>

      </aside>

      <header class="menu-wrap">
        <figure class="user">
          <div class="user-avatar">
            <img
              src="{{ url_for('payroll_staff.static', filename='user/user_logo.webp') }}"
              alt="User Profile"
            />
          </div>
          <figcaption>
            {{ current_user.first_name }} {{current_user.last_name}}
          </figcaption>
        </figure>

        <nav>
           <section class="dicover">
            <h3>Employee Payroll Management</h3>

            <ul>
              <li>
                <a href="{{ url_for('payroll_staff.dashboard') }}" >
                    <span class="material-symbols-outlined">
                    dashboard
                    </span>
                    Dashboard                
                  </a>
              </li>

              <li>
                <a href="{{ url_for('payroll_staff.view_payrolls') }}" >
                 <span class="material-symbols-outlined">
                  credit_card_gear
                  </span>
                    View Employee Payroll Details
                </a>
              </li>

               <li>
                <a href="{{ url_for('payroll_staff.process_payroll') }}" >
                    <span class="material-symbols-outlined">
                    dashboard
                    </span>
                    Process Payrolls                
                  </a>
              </li>

              <li>
                <a href="{{ url_for('payroll_staff.generate_payslips_by_period') }}">
                  <span class="material-symbols-outlined">
                  add_notes
                  </span>
                  Generate Payslips
                </a>
              </li>

               <li>
                <a href="{{ url_for('payroll_staff.view_payslips') }}">
                 <span class="material-symbols-outlined">
                  send_money
                  </span>
                  Distribute/View Payslips
                </a>
              </li>
            </ul>
          </section>
        </nav>
      </header>
      <main class="content-wrap">{% block content %}{% endblock %}</main>
    </div>
    <!-- SweetAlert2 CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const logoutBtn = document.getElementById("logoutBtn");

  if (logoutBtn) {
    logoutBtn.addEventListener("click", function (event) {
      event.preventDefault(); // Stop the default behavior

      Swal.fire({
        title: "Are you sure?",
        text: "You will be signed out of GovHRPay Payroll System.",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Yes, log out",
        cancelButtonText: "Cancel"
      }).then((result) => {
        if (result.isConfirmed) {
          Swal.fire({
            title: "Logging out...",
            icon: "success",
            text: "You have been successfully logged out.",
            showConfirmButton: false,
            timer: 1500
          });
          // Redirect after short delay
          setTimeout(() => {
            window.location.href = "{{ url_for('payroll_auth.logout') }}";
          }, 1500);
        }
      });
    });
  }
});
</script>

  </body>
</html>
