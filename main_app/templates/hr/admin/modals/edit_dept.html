<!-- hr/admin/includes/edit_department_modal.html -->
<div id="editDepartmentModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-gray-900 rounded-2xl w-full max-w-lg p-6 relative shadow-lg">

    <!-- Close Button -->
    <button id="closeEditDepartmentModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
      <i class="fa-solid fa-xmark text-2xl"></i>
    </button>

    <!-- Modal Header -->
    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
      <i class="fa-solid fa-pen-to-square text-blue-400"></i> Edit Department
    </h2>

    <!-- Form -->
    <form id="editDepartmentForm" method="POST" action="{{ url_for('hr_admin.edit_department', department_id=department.id) }}">
      {{ form.hidden_tag() if form else '' }}

      <div class="space-y-4">
        <!-- Department Name -->
        <div class="flex flex-col">
          <label class="text-gray-300 mb-1">Department Name</label>
          <input type="text" name="name" value="{{ department.name }}" placeholder="Enter department name"
                 required class="bg-gray-800 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"/>
        </div>

        <!-- Department Head -->
        <div class="flex flex-col">
          <label class="text-gray-300 mb-1">Department Head</label>
          <select name="dept_head" class="bg-gray-800 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400">
            <option value="">Select Department Head</option>
            {% for emp in employees %}
              <option value="{{ emp.id }}" {% if department.head_id == emp.id %}selected{% endif %}>
                {{ emp.first_name }} {{ emp.last_name }}
              </option>
            {% endfor %}
          </select>
        </div>

        <!-- Description -->
        <div class="flex flex-col">
          <label class="text-gray-300 mb-1">Description</label>
          <textarea name="description" placeholder="Enter department description" rows="4" style="resize: none;"
                    class="bg-gray-800 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400">{{ department.description }}</textarea>
        </div>
      </div>

      <!-- Buttons -->
      <div class="mt-6 flex justify-end gap-3 flex-wrap">
        <button type="submit"
                class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl flex items-center gap-1">
          <i class="fa-solid fa-pen-to-square"></i> Update
        </button>
        <button type="button" id="cancelEditDepartment" 
                class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl flex items-center gap-1">
          <i class="fa-solid fa-xmark"></i> Cancel
        </button>
      </div>
    </form>
  </div>
</div>
